<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Indian Agricultural Market Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_dashboard.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Admin Dashboard - Indian Agricultural Market</h1>
            <p>Manage and analyze Indian agricultural market data.</p>
        </header>

        <div class="grid">
            <a href="/map" class="btn">
                <div class="icon">ğŸ—ºï¸</div>
                <div class="label">View Product Map</div>
            </a>

            <a href="/database" class="btn">
                <div class="icon">ğŸ—ƒï¸</div>
                <div class="label">View Product Database</div>
            </a>

            <a href="/graph3" class="btn">
                <div class="icon">ğŸ“ˆ</div>
                <div class="label">Price Trends by Region</div>
            </a>

            <a href="/forecast" class="btn">
                <div class="icon">ğŸ”®</div>
                <div class="label">Forecast Future Prices</div>
            </a>
    
            <a href="#" class="btn" onclick="updateModels(); return false;">
                <div class="icon">ğŸ”„</div>
                <div class="label">Update Forecast Models</div>
            </a>
        </div>

        <p id="updateMessage" style="text-align:center; margin-top: 15px;"></p>
    </div>

    <script>
      function updateModels() {
        const message = document.getElementById('updateMessage');
        message.textContent = "â³ Updating models... Please wait.";
        fetch('/aggiorna_modelli')
          .then(res => res.json())
          .then(data => {
            message.textContent = "âœ… " + data.message;
          })
          .catch(() => {
            message.textContent = "âŒ Error updating models.";
          });
      }
    </script>
</body>
</html>
